<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="style.css">
<script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
<script src="base.js"></script>
<script src="game.js"></script>
<script src="game.rules.js"></script>
<script src="game.map.js"></script>
<script src="game.player.js"></script>
<script src="views.js"></script>
<script src="views.html.js"></script>
<script src="views.map.js"></script>
<script src="views.map.hover.js"></script>
<script>
$(function(){
	Views.setElements({main_elem: '.game'});
	var game = new Game({views: Views});

	game.Bind({
		'next_step': 'NextStep',
		'click' : {
			'.start_btn': 'NewGame',
			'.step_btn': function(e, elem){
				if (!Views.isDisabled(elem)){
					Views.Trigger('next_step');
				}
			},
			'.description [data-type]'	: function(e, elem){
				game.setCurrentObjectType( Views.toggleHoverTable(elem, game.getCurrentObjectType()) );
			},
			'.map .corner, .map .line'	: 'setObject'
		},
		'number_entered': {
			'.prompt[data-target="players_count"]': function(e, elem){
				if (game.setPlayersCount(elem.find('input').val()))
				{
					Views.hideModalMessage(elem);
					game.Create();
				}
			}
		}
	});
});
</script>
</head>

<body>
	<div class="game"></div>
</body>
</html>
